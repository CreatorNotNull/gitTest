<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.yueqian.com.dao.EmpDao"><!-- 用于绑定dao接口 -->
	<select id="getById" parameterType="int" resultMap="empResultMap">
		SELECT d.`id` AS dept_id,d.`location`,d.`name` AS dept_name, e.`address`,e.`id` AS emp_id,e.`name` AS emp_name,e.`sex`,e.`salary`,e.`job` 
			FROM dept d,emp e 
			WHERE d.`id`=e.`dept_id` AND e.`id`=#{id}
	</select>
  <resultMap type="cn.yueqian.com.dao.entity.Emp" id="empResultMap">
  	    <id property="id" column="emp_id"/>
  		<result property="name" column="emp_name"/>
  		<result property="address" column="address"/>
  		<result property="sex" column="sex"/>
  		<result property="salary" column="salary"/>
  		<result property="job" column="job"/>
  		<association property="dept" javaType="cn.yueqian.com.dao.entity.Dept">
  			<id property="id" column="dept_id"/>
  			<result property="name" column="dept_name"/>
  			<result property="location" column="location"/>
  		</association>
  </resultMap>
  
 </mapper>
